{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/KEA%20ASSIGNMENT/frontend/components/AddProjectModal.tsx"],"sourcesContent":["// import { useState } from \"react\";\r\n// import axios from \"axios\";\r\n\r\n// interface Props {\r\n//   onClose: () => void;\r\n//   refresh: () => void;\r\n// }\r\n\r\n// export default function AddProjectModal({ onClose, refresh }: Props) {\r\n//   const [name, setName] = useState<string>(\"\");\r\n//   const [client, setClient] = useState<string>(\"\");\r\n//   const [budget, setBudget] = useState<string>(\"\");\r\n\r\n//   const handleSubmit = async () => {\r\n//     await axios.post(\"http://localhost:5000/api/projects\", {\r\n//       name,\r\n//       client_name: client,\r\n//       estimated_budget: Number(budget),\r\n//     });\r\n\r\n//     refresh();\r\n//     onClose();\r\n//   };\r\n\r\n//   return (\r\n//     <div className=\"fixed inset-0 bg-black bg-opacity-40 flex justify-center items-center\">\r\n//       <div className=\"bg-white p-6 rounded-xl w-96 shadow-lg\">\r\n//         <h2 className=\"text-lg font-semibold mb-4\">Add Project</h2>\r\n\r\n//         <input\r\n//           className=\"w-full border p-2 mb-3 rounded\"\r\n//           placeholder=\"Project Name\"\r\n//           value={name}\r\n//           onChange={(e) => setName(e.target.value)}\r\n//         />\r\n\r\n//         <input\r\n//           className=\"w-full border p-2 mb-3 rounded\"\r\n//           placeholder=\"Client Name\"\r\n//           value={client}\r\n//           onChange={(e) => setClient(e.target.value)}\r\n//         />\r\n\r\n//         <input\r\n//           type=\"number\"\r\n//           className=\"w-full border p-2 mb-4 rounded\"\r\n//           placeholder=\"Estimated Budget\"\r\n//           value={budget}\r\n//           onChange={(e) => setBudget(e.target.value)}\r\n//         />\r\n\r\n//         <div className=\"flex justify-end space-x-3\">\r\n//           <button onClick={onClose}>Cancel</button>\r\n//           <button\r\n//             onClick={handleSubmit}\r\n//             className=\"bg-black text-white px-4 py-2 rounded\"\r\n//           >\r\n//             Save\r\n//           </button>\r\n//         </div>\r\n//       </div>\r\n//     </div>\r\n//   );\r\n// }\r\n\r\n\r\nimport { useState } from \"react\";\r\nimport axios from \"axios\";\r\n\r\ninterface Props {\r\n  onClose: () => void;\r\n  refresh: () => void;\r\n}\r\n\r\nexport default function AddProjectModal({ onClose, refresh }: Props) {\r\n  const [name, setName] = useState<string>(\"\");\r\n  const [client, setClient] = useState<string>(\"\");\r\n  const [budget, setBudget] = useState<string>(\"\");\r\n\r\n  // Error and loading states\r\n  const [errors, setErrors] = useState<{ name?: string; client?: string; budget?: string }>({});\r\n  const [apiError, setApiError] = useState<string>(\"\");\r\n  const [loading, setLoading] = useState<boolean>(false);\r\n\r\n  // Frontend validation\r\n  const validate = () => {\r\n    const newErrors: { name?: string; client?: string; budget?: string } = {};\r\n\r\n    if (!name.trim()) newErrors.name = \"Project name is required.\";\r\n    if (!client.trim()) newErrors.client = \"Client name is required.\";\r\n    if (!budget.trim()) newErrors.budget = \"Estimated budget is required.\";\r\n    else if (isNaN(Number(budget)) || Number(budget) <= 0)\r\n      newErrors.budget = \"Budget must be a positive number.\";\r\n\r\n    setErrors(newErrors);\r\n    return Object.keys(newErrors).length === 0;\r\n  };\r\n\r\n  const handleSubmit = async () => {\r\n    setApiError(\"\");\r\n\r\n    if (!validate()) return; // Stop if validation fails\r\n\r\n    setLoading(true);\r\n    try {\r\n      await axios.post(\"http://localhost:5000/api/projects\", {\r\n        name,\r\n        client_name: client,\r\n        estimated_budget: Number(budget),\r\n      });\r\n\r\n      // Reset form\r\n      setName(\"\");\r\n      setClient(\"\");\r\n      setBudget(\"\");\r\n\r\n      // Refresh parent & close modal\r\n      refresh();\r\n      onClose();\r\n    } catch (err: any) {\r\n      console.error(err);\r\n      if (axios.isAxiosError(err)) {\r\n        if (err.response) setApiError(err.response.data.message || \"Server error\");\r\n        else if (err.request) setApiError(\"No response from server. Try again later.\");\r\n        else setApiError(err.message);\r\n      } else {\r\n        setApiError(\"An unexpected error occurred.\");\r\n      }\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"fixed inset-0 bg-black bg-opacity-40 flex justify-center items-center\">\r\n      <div className=\"bg-white p-6 rounded-xl w-96 shadow-lg\">\r\n        <h2 className=\"text-black font-semibold mb-4\">Add Project</h2>\r\n\r\n        {apiError && <p className=\"text-red-600 mb-2\">{apiError}</p>}\r\n\r\n        <div className=\"mb-3\">\r\n          <input\r\n            className={`text-black w-full border p-2 rounded ${errors.name ? \"border-red-500\" : \"\"}`}\r\n            placeholder=\"Project Name\"\r\n            value={name}\r\n            onChange={(e) => setName(e.target.value)}\r\n          />\r\n          {errors.name && <p className=\"text-red-500 text-sm\">{errors.name}</p>}\r\n        </div>\r\n\r\n        <div className=\"mb-3\">\r\n          <input\r\n            className={`text-black w-full border p-2 rounded ${errors.client ? \"border-red-500\" : \"\"}`}\r\n            placeholder=\"Client Name\"\r\n            value={client}\r\n            onChange={(e) => setClient(e.target.value)}\r\n          />\r\n          {errors.client && <p className=\"text-red-500 text-sm\">{errors.client}</p>}\r\n        </div>\r\n\r\n        <div className=\"mb-4\">\r\n          <input\r\n            type=\"number\"\r\n            className={`text-black w-full border p-2 rounded ${errors.budget ? \"border-red-500\" : \"\"}`}\r\n            placeholder=\"Estimated Budget\"\r\n            value={budget}\r\n            onChange={(e) => setBudget(e.target.value)}\r\n          />\r\n          {errors.budget && <p className=\"text-red-500 text-sm\">{errors.budget}</p>}\r\n        </div>\r\n\r\n        <div className=\"flex justify-end space-x-3\">\r\n          <button\r\n            onClick={onClose}\r\n            className=\"text-red-500 px-4 py-2 border rounded hover:bg-gray-100\"\r\n            disabled={loading}\r\n          >\r\n            Cancel\r\n          </button>\r\n          <button\r\n            onClick={handleSubmit}\r\n            className={`bg-black text-white px-4 py-2 rounded ${\r\n              loading ? \"opacity-50 cursor-not-allowed\" : \"\"\r\n            }`}\r\n            disabled={loading}\r\n          >\r\n            {loading ? \"Saving...\" : \"Save\"}\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 274, "column": 0}, "map": {"version":3,"sources":["file:///C:/KEA%20ASSIGNMENT/frontend/components/ExpenseTable.tsx"],"sourcesContent":["import axios from \"axios\";\r\nimport { useState } from \"react\";\r\nimport { Expense } from \"../types\";\r\n\r\ninterface Props {\r\n  expenses: Expense[];\r\n  refresh: () => void;\r\n  reload: () => void;\r\n}\r\n\r\nexport default function ExpenseTable({\r\n  expenses,\r\n  refresh,\r\n  reload,\r\n}: Props) {\r\n  const [editingId, setEditingId] = useState<number | null>(null);\r\n  const [editData, setEditData] = useState<Partial<Expense>>({});\r\n\r\n  const deleteExpense = async (id: number) => {\r\n    await axios.delete(`http://localhost:5000/api/expenses/${id}`);\r\n    refresh();\r\n    reload();\r\n  };\r\n\r\n  const updateExpense = async (id: number) => {\r\n    await axios.put(\r\n      `http://localhost:5000/api/expenses/${id}`,\r\n      editData\r\n    );\r\n    setEditingId(null);\r\n    refresh();\r\n    reload();\r\n  };\r\n\r\n  return (\r\n    <table className=\"w-full text-sm mb-4\">\r\n      <thead>\r\n        <tr className=\"border-b\">\r\n          <th className=\"text-black\">Description</th>\r\n          <th className=\"text-black\">Amount</th>\r\n          <th className=\"text-black\">Category</th>\r\n          <th className=\"text-black\">Actions</th>\r\n        </tr>\r\n      </thead>\r\n      <tbody>\r\n        {expenses.map((expense) => (\r\n          <tr key={expense.id} className=\"border-b\">\r\n            <td className=\"text-black\">\r\n              {editingId === expense.id ? (\r\n                <input\r\n                  defaultValue={expense.description}\r\n                  onChange={(e) =>\r\n                    setEditData({\r\n                      ...editData,\r\n                      description: e.target.value,\r\n                    })\r\n                  }\r\n                />\r\n              ) : (\r\n                expense.description\r\n              )}\r\n            </td>\r\n\r\n            <td className=\"text-black\">\r\n              {editingId === expense.id ? (\r\n                <input\r\n                  type=\"number\"\r\n                  defaultValue={expense.amount}\r\n                  onChange={(e) =>\r\n                    setEditData({\r\n                      ...editData,\r\n                      amount: Number(e.target.value),\r\n                    })\r\n                  }\r\n                />\r\n              ) : (\r\n                `$${expense.amount}`\r\n              )}\r\n            </td>\r\n\r\n            <td className=\"text-black\">{expense.category}</td>\r\n\r\n            <td className=\"space-x-2\">\r\n              {editingId === expense.id ? (\r\n                <button\r\n                  onClick={() => updateExpense(expense.id)}\r\n                  className=\"text-green-600\"\r\n                >\r\n                  Save\r\n                </button>\r\n              ) : (\r\n                <button\r\n                  onClick={() => setEditingId(expense.id)}\r\n                  className=\"text-blue-600\"\r\n                >\r\n                  Edit\r\n                </button>\r\n              )}\r\n\r\n              <button\r\n                onClick={() => deleteExpense(expense.id)}\r\n                className=\"text-red-600\"\r\n              >\r\n                Delete\r\n              </button>\r\n            </td>\r\n          </tr>\r\n        ))}\r\n      </tbody>\r\n    </table>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAAA;AACA;;;;;AASe,SAAS,aAAa,EACnC,QAAQ,EACR,OAAO,EACP,MAAM,EACA;;IACN,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,yKAAQ,EAAgB;IAC1D,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,yKAAQ,EAAmB,CAAC;IAE5D,MAAM,gBAAgB,OAAO;QAC3B,MAAM,mJAAK,CAAC,MAAM,CAAC,CAAC,mCAAmC,EAAE,IAAI;QAC7D;QACA;IACF;IAEA,MAAM,gBAAgB,OAAO;QAC3B,MAAM,mJAAK,CAAC,GAAG,CACb,CAAC,mCAAmC,EAAE,IAAI,EAC1C;QAEF,aAAa;QACb;QACA;IACF;IAEA,qBACE,6LAAC;QAAM,WAAU;;0BACf,6LAAC;0BACC,cAAA,6LAAC;oBAAG,WAAU;;sCACZ,6LAAC;4BAAG,WAAU;sCAAa;;;;;;sCAC3B,6LAAC;4BAAG,WAAU;sCAAa;;;;;;sCAC3B,6LAAC;4BAAG,WAAU;sCAAa;;;;;;sCAC3B,6LAAC;4BAAG,WAAU;sCAAa;;;;;;;;;;;;;;;;;0BAG/B,6LAAC;0BACE,SAAS,GAAG,CAAC,CAAC,wBACb,6LAAC;wBAAoB,WAAU;;0CAC7B,6LAAC;gCAAG,WAAU;0CACX,cAAc,QAAQ,EAAE,iBACvB,6LAAC;oCACC,cAAc,QAAQ,WAAW;oCACjC,UAAU,CAAC,IACT,YAAY;4CACV,GAAG,QAAQ;4CACX,aAAa,EAAE,MAAM,CAAC,KAAK;wCAC7B;;;;;2CAIJ,QAAQ,WAAW;;;;;;0CAIvB,6LAAC;gCAAG,WAAU;0CACX,cAAc,QAAQ,EAAE,iBACvB,6LAAC;oCACC,MAAK;oCACL,cAAc,QAAQ,MAAM;oCAC5B,UAAU,CAAC,IACT,YAAY;4CACV,GAAG,QAAQ;4CACX,QAAQ,OAAO,EAAE,MAAM,CAAC,KAAK;wCAC/B;;;;;2CAIJ,CAAC,CAAC,EAAE,QAAQ,MAAM,EAAE;;;;;;0CAIxB,6LAAC;gCAAG,WAAU;0CAAc,QAAQ,QAAQ;;;;;;0CAE5C,6LAAC;gCAAG,WAAU;;oCACX,cAAc,QAAQ,EAAE,iBACvB,6LAAC;wCACC,SAAS,IAAM,cAAc,QAAQ,EAAE;wCACvC,WAAU;kDACX;;;;;6DAID,6LAAC;wCACC,SAAS,IAAM,aAAa,QAAQ,EAAE;wCACtC,WAAU;kDACX;;;;;;kDAKH,6LAAC;wCACC,SAAS,IAAM,cAAc,QAAQ,EAAE;wCACvC,WAAU;kDACX;;;;;;;;;;;;;uBAxDI,QAAQ,EAAE;;;;;;;;;;;;;;;;AAiE7B;GArGwB;KAAA"}},
    {"offset": {"line": 463, "column": 0}, "map": {"version":3,"sources":["file:///C:/KEA%20ASSIGNMENT/frontend/components/AddExpenseForm.tsx"],"sourcesContent":["// import { useState } from \"react\";\r\n// import axios from \"axios\";\r\n\r\n// interface Props {\r\n//   projectId: number;\r\n//   reload: () => void;\r\n//   refresh: () => void;\r\n// }\r\n\r\n// export default function AddExpenseForm({\r\n//   projectId,\r\n//   reload,\r\n//   refresh,\r\n// }: Props) {\r\n//   const [description, setDescription] = useState<string>(\"\");\r\n//   const [amount, setAmount] = useState<string>(\"\");\r\n//   const [category, setCategory] =\r\n//     useState<\"material\" | \"labor\" | \"other\">(\"material\");\r\n\r\n//   const handleSubmit = async () => {\r\n//     await axios.post(\r\n//       `http://localhost:5000/api/projects/${projectId}/expenses`,\r\n//       {\r\n//         description,\r\n//         amount: Number(amount),\r\n//         category,\r\n//       }\r\n//     );\r\n\r\n//     setDescription(\"\");\r\n//     setAmount(\"\");\r\n//     reload();\r\n//     refresh();\r\n//   };\r\n\r\n//   return (\r\n//     <div className=\"mt-4 bg-gray-50 p-4 rounded-lg\">\r\n//       <h3 className=\"font-semibold mb-2\">Add Expense</h3>\r\n\r\n//       <div className=\"grid grid-cols-3 gap-3\">\r\n//         <input\r\n//           className=\"border p-2 rounded\"\r\n//           placeholder=\"Description\"\r\n//           value={description}\r\n//           onChange={(e) => setDescription(e.target.value)}\r\n//         />\r\n\r\n//         <input\r\n//           type=\"number\"\r\n//           className=\"border p-2 rounded\"\r\n//           placeholder=\"Amount\"\r\n//           value={amount}\r\n//           onChange={(e) => setAmount(e.target.value)}\r\n//         />\r\n\r\n//         <select\r\n//           className=\"border p-2 rounded\"\r\n//           value={category}\r\n//           onChange={(e) =>\r\n//             setCategory(e.target.value as \"material\" | \"labor\" | \"other\")\r\n//           }\r\n//         >\r\n//           <option value=\"material\">Material</option>\r\n//           <option value=\"labor\">Labor</option>\r\n//           <option value=\"other\">Other</option>\r\n//         </select>\r\n//       </div>\r\n\r\n//       <button\r\n//         onClick={handleSubmit}\r\n//         className=\"mt-3 bg-black text-white px-4 py-2 rounded\"\r\n//       >\r\n//         Add Expense\r\n//       </button>\r\n//     </div>\r\n//   );\r\n// }\r\n\r\n\r\n\r\nimport { useState } from \"react\";\r\nimport axios from \"axios\";\r\n\r\ninterface Props {\r\n  projectId: number;\r\n  reload: () => void;\r\n  refresh: () => void;\r\n}\r\n\r\nexport default function AddExpenseForm({ projectId, reload, refresh }: Props) {\r\n  const [description, setDescription] = useState<string>(\"\");\r\n  const [amount, setAmount] = useState<string>(\"\");\r\n  const [category, setCategory] = useState<\"material\" | \"labor\" | \"other\">(\"material\");\r\n\r\n  // State for error handling\r\n  const [errors, setErrors] = useState<{ description?: string; amount?: string }>({});\r\n  const [apiError, setApiError] = useState<string>(\"\");\r\n  const [loading, setLoading] = useState<boolean>(false);\r\n\r\n  // Frontend validation function\r\n  const validate = () => {\r\n    const newErrors: { description?: string; amount?: string } = {};\r\n\r\n    if (!description.trim()) newErrors.description = \"Description is required.\";\r\n    if (!amount.trim()) newErrors.amount = \"Amount is required.\";\r\n    else if (isNaN(Number(amount)) || Number(amount) <= 0)\r\n      newErrors.amount = \"Amount must be a positive number.\";\r\n\r\n    setErrors(newErrors);\r\n\r\n    return Object.keys(newErrors).length === 0;\r\n  };\r\n\r\n  const handleSubmit = async () => {\r\n    setApiError(\"\");\r\n\r\n    if (!validate()) return; // Stop if validation fails\r\n\r\n    setLoading(true);\r\n    try {\r\n      await axios.post(`http://localhost:5000/api/projects/${projectId}/expenses`, {\r\n        description,\r\n        amount: Number(amount),\r\n        category,\r\n      });\r\n\r\n      // Reset form\r\n      setDescription(\"\");\r\n      setAmount(\"\");\r\n      setCategory(\"material\");\r\n\r\n      // Refresh parent\r\n      reload();\r\n      refresh();\r\n    } catch (err: any) {\r\n      console.error(err);\r\n\r\n      // Handle axios errors\r\n      if (axios.isAxiosError(err)) {\r\n        if (err.response) {\r\n          // Server responded with an error\r\n          setApiError(err.response.data.message || \"Server Error\");\r\n        } else if (err.request) {\r\n          // Request made but no response\r\n          setApiError(\"No response from server. Please try again later.\");\r\n        } else {\r\n          setApiError(err.message);\r\n        }\r\n      } else {\r\n        setApiError(\"An unexpected error occurred.\");\r\n      }\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"mt-4 bg-gray-50 p-4 rounded-lg\">\r\n      <h3 className=\"font-semibold mb-2 text-black\">Add Expense</h3>\r\n\r\n      {apiError && <p className=\"text-red-600 mb-2\">{apiError}</p>}\r\n\r\n      <div className=\"grid grid-cols-3 gap-3\">\r\n        <div>\r\n          <input\r\n            className={`text-black border p-2 rounded w-full ${errors.description ? \"border-red-500\" : \"\"}`}\r\n            placeholder=\"Description\"\r\n            value={description}\r\n            onChange={(e) => setDescription(e.target.value)}\r\n          />\r\n          {errors.description && <p className=\"text-red-500 text-sm\">{errors.description}</p>}\r\n        </div>\r\n\r\n        <div>\r\n          <input\r\n            type=\"number\"\r\n            className={`text-black border p-2 rounded w-full ${errors.amount ? \"border-red-500\" : \"\"}`}\r\n            placeholder=\"Amount\"\r\n            value={amount}\r\n            onChange={(e) => setAmount(e.target.value)}\r\n          />\r\n          {errors.amount && <p className=\"text-red-500 text-sm\">{errors.amount}</p>}\r\n        </div>\r\n\r\n        <div>\r\n          <select\r\n            className=\"text-black border p-2 rounded w-full\"\r\n            value={category}\r\n            onChange={(e) => setCategory(e.target.value as \"material\" | \"labor\" | \"other\")}\r\n          >\r\n            <option value=\"material\">Material</option>\r\n            <option value=\"labor\">Labor</option>\r\n            <option value=\"other\">Other</option>\r\n          </select>\r\n        </div>\r\n      </div>\r\n\r\n      <button\r\n        onClick={handleSubmit}\r\n        className={`mt-3 bg-black text-white px-4 py-2 rounded ${loading ? \"opacity-50 cursor-not-allowed\" : \"\"}`}\r\n        disabled={loading}\r\n      >\r\n        {loading ? \"Adding...\" : \"Add Expense\"}\r\n      </button>\r\n    </div>\r\n  );\r\n}\r\n\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 747, "column": 0}, "map": {"version":3,"sources":["file:///C:/KEA%20ASSIGNMENT/frontend/components/ProjectCard.tsx"],"sourcesContent":["import { useState } from \"react\";\r\nimport axios from \"axios\";\r\nimport { Project, Expense } from \"../types\";\r\nimport ExpenseTable from \"./ExpenseTable\";\r\nimport AddExpenseForm from \"./AddExpenseForm\";\r\n\r\ninterface Props {\r\n  project: Project;\r\n  refresh: () => void;\r\n}\r\n\r\nexport default function ProjectCard({ project, refresh }: Props) {\r\n  const [open, setOpen] = useState<boolean>(false);\r\n  const [expenses, setExpenses] = useState<Expense[]>([]);\r\n\r\n  const fetchDetails = async () => {\r\n    const res = await axios.get<{\r\n      project: Project;\r\n      expenses: Expense[];\r\n    }>(`http://localhost:5000/api/projects/${project.id}`);\r\n\r\n    setExpenses(res.data.expenses);\r\n  };\r\n\r\n  const toggle = async () => {\r\n    if (!open) await fetchDetails();\r\n    setOpen(!open);\r\n  };\r\n\r\n  return (\r\n    <div className=\"bg-white p-6 rounded-xl shadow\">\r\n\r\n      <div className=\"flex justify-between items-center\">\r\n        <div>\r\n          <h2 className=\"text-blue-600  font-semibold\">{project.name}</h2>\r\n          <p className=\"text-black\">\r\n            Client: {project.client_name}\r\n          </p>\r\n        </div>\r\n\r\n        <button onClick={toggle} className=\"text-blue-600\">\r\n          {open ? \"Hide ▲\" : \"Expand ▼\"}\r\n        </button>\r\n      </div>\r\n\r\n      <div className=\"grid grid-cols-3 gap-4 mt-4 text-sm\">\r\n        <div>\r\n          <p className=\"text-gray-500\">Budget</p>\r\n          <p className=\"font-semibold text-black\">${project.estimated_budget}</p>\r\n        </div>\r\n        <div>\r\n          <p className=\"text-gray-500\">Expenses</p>\r\n          <p className=\"font-semibold text-red-500\">\r\n            ${project.total_expenses}\r\n          </p>\r\n        </div>\r\n        <div>\r\n          <p className=\"text-gray-500\">Remaining</p>\r\n          <p className=\"font-semibold text-green-600\">\r\n            ${project.remaining_budget}\r\n          </p>\r\n        </div>\r\n      </div>\r\n\r\n      {open && (\r\n        <div className=\"mt-6 border-t pt-4\">\r\n          <ExpenseTable\r\n            expenses={expenses}\r\n            refresh={refresh}\r\n            reload={fetchDetails}\r\n          />\r\n          <AddExpenseForm\r\n            projectId={project.id}\r\n            reload={fetchDetails}\r\n            refresh={refresh}\r\n          />\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAAA;AACA;AAEA;AACA;;;;;;;AAOe,SAAS,YAAY,EAAE,OAAO,EAAE,OAAO,EAAS;;IAC7D,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,yKAAQ,EAAU;IAC1C,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,yKAAQ,EAAY,EAAE;IAEtD,MAAM,eAAe;QACnB,MAAM,MAAM,MAAM,mJAAK,CAAC,GAAG,CAGxB,CAAC,mCAAmC,EAAE,QAAQ,EAAE,EAAE;QAErD,YAAY,IAAI,IAAI,CAAC,QAAQ;IAC/B;IAEA,MAAM,SAAS;QACb,IAAI,CAAC,MAAM,MAAM;QACjB,QAAQ,CAAC;IACX;IAEA,qBACE,6LAAC;QAAI,WAAU;;0BAEb,6LAAC;gBAAI,WAAU;;kCACb,6LAAC;;0CACC,6LAAC;gCAAG,WAAU;0CAAgC,QAAQ,IAAI;;;;;;0CAC1D,6LAAC;gCAAE,WAAU;;oCAAa;oCACf,QAAQ,WAAW;;;;;;;;;;;;;kCAIhC,6LAAC;wBAAO,SAAS;wBAAQ,WAAU;kCAChC,OAAO,WAAW;;;;;;;;;;;;0BAIvB,6LAAC;gBAAI,WAAU;;kCACb,6LAAC;;0CACC,6LAAC;gCAAE,WAAU;0CAAgB;;;;;;0CAC7B,6LAAC;gCAAE,WAAU;;oCAA2B;oCAAE,QAAQ,gBAAgB;;;;;;;;;;;;;kCAEpE,6LAAC;;0CACC,6LAAC;gCAAE,WAAU;0CAAgB;;;;;;0CAC7B,6LAAC;gCAAE,WAAU;;oCAA6B;oCACtC,QAAQ,cAAc;;;;;;;;;;;;;kCAG5B,6LAAC;;0CACC,6LAAC;gCAAE,WAAU;0CAAgB;;;;;;0CAC7B,6LAAC;gCAAE,WAAU;;oCAA+B;oCACxC,QAAQ,gBAAgB;;;;;;;;;;;;;;;;;;;YAK/B,sBACC,6LAAC;gBAAI,WAAU;;kCACb,6LAAC,yIAAY;wBACX,UAAU;wBACV,SAAS;wBACT,QAAQ;;;;;;kCAEV,6LAAC,2IAAc;wBACb,WAAW,QAAQ,EAAE;wBACrB,QAAQ;wBACR,SAAS;;;;;;;;;;;;;;;;;;AAMrB;GArEwB;KAAA"}},
    {"offset": {"line": 957, "column": 0}, "map": {"version":3,"sources":["file:///C:/KEA%20ASSIGNMENT/frontend/app/page.tsx"],"sourcesContent":["\"use client\";\n\nimport { useEffect, useState } from \"react\";\nimport axios from \"axios\";\nimport AddProjectModal from \"../components/AddProjectModal\";\nimport ProjectCard from \"../components/ProjectCard\";\nimport { Project } from \"../types/index\";\n\nexport default function Home() {\n  const [projects, setProjects] = useState<Project[]>([]);\n  const [showModal, setShowModal] = useState<boolean>(false);\n\n  const fetchProjects = async () => {\n    const res = await axios.get<Project[]>(\n      \"http://localhost:5000/api/projects\"\n    );\n    setProjects(res.data);\n  };\n\n  useEffect(() => {\n    fetchProjects();\n  }, []);\n\n  return (\n    <div className=\"min-h-screen bg-gray-100 p-8\">\n      <div className=\"max-w-6xl mx-auto\">\n\n        <div className=\"flex justify-between items-center mb-8\">\n          {/* <h1 className=\"text-2xl font-bold\">\n            Projects & Expenses Tracker\n          </h1> */}\n          <button\n            onClick={() => setShowModal(true)}\n            className=\"bg-black text-white px-5 py-2 rounded-lg\"\n          >\n            + Add Project\n          </button>\n        </div>\n\n        <div className=\"space-y-6\">\n          {projects.map((project) => (\n            <ProjectCard\n              key={project.id}\n              project={project}\n              refresh={fetchProjects}\n            />\n          ))}\n        </div>\n      </div>\n\n      {showModal && (\n        <AddProjectModal\n          onClose={() => setShowModal(false)}\n          refresh={fetchProjects}\n        />\n      )}\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;;;AALA;;;;;AAQe,SAAS;;IACtB,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,yKAAQ,EAAY,EAAE;IACtD,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,yKAAQ,EAAU;IAEpD,MAAM,gBAAgB;QACpB,MAAM,MAAM,MAAM,mJAAK,CAAC,GAAG,CACzB;QAEF,YAAY,IAAI,IAAI;IACtB;IAEA,IAAA,0KAAS;0BAAC;YACR;QACF;yBAAG,EAAE;IAEL,qBACE,6LAAC;QAAI,WAAU;;0BACb,6LAAC;gBAAI,WAAU;;kCAEb,6LAAC;wBAAI,WAAU;kCAIb,cAAA,6LAAC;4BACC,SAAS,IAAM,aAAa;4BAC5B,WAAU;sCACX;;;;;;;;;;;kCAKH,6LAAC;wBAAI,WAAU;kCACZ,SAAS,GAAG,CAAC,CAAC,wBACb,6LAAC,wIAAW;gCAEV,SAAS;gCACT,SAAS;+BAFJ,QAAQ,EAAE;;;;;;;;;;;;;;;;YAQtB,2BACC,6LAAC,4IAAe;gBACd,SAAS,IAAM,aAAa;gBAC5B,SAAS;;;;;;;;;;;;AAKnB;GAlDwB;KAAA"}}]
}